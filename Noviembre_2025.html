<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="generator" content="Aspose.Words for .NET 25.9.0" /><title></title><style type="text/css">body { line-height:108%; font-family:Calibri; font-size:11pt }h1, h2, p { margin:0pt 0pt 8pt }li, table { margin-top:0pt; margin-bottom:8pt }h1 { margin-top:12pt; margin-bottom:0pt; page-break-inside:avoid; page-break-after:avoid; line-height:108%; font-family:'Calibri Light'; font-size:16pt; font-weight:normal; color:#2f5496 }h2 { margin-top:2pt; margin-bottom:0pt; page-break-inside:avoid; page-break-after:avoid; line-height:108%; font-family:'Calibri Light'; font-size:13pt; font-weight:normal; color:#2f5496 }.ListParagraph { margin-left:35.4pt; margin-bottom:0pt; line-height:normal; font-family:Arial; font-size:10pt; color:#00000a; -aw-style-name:list-paragraph }.NoSpacing { margin-bottom:0pt; line-height:normal; font-size:11pt; -aw-style-name:no-spacing }.NormalWeb { margin-top:5pt; margin-bottom:5pt; line-height:normal; font-family:'Times New Roman'; font-size:12pt; -aw-style-name:normal-web }span.Emphasis { font-style:italic; -aw-style-name:emphasis }span.Hyperlink { text-decoration:underline; color:#0563c1; -aw-style-name:hyperlink }span.Strong { font-weight:bold; -aw-style-name:strong }span.Ttulo1Car { font-family:'Calibri Light'; font-size:16pt; color:#2f5496 }span.Ttulo2Car { font-family:'Calibri Light'; font-size:13pt; color:#2f5496 }span.UnresolvedMention { color:#605e5c; background-color:#e1dfdd; -aw-style-name:unresolved-mention }.TableGrid {  }.awlist1 { list-style:none; counter-reset:awlistcounter2_0 }.awlist1 > li:before { content:counter(awlistcounter2_0) '-'; counter-increment:awlistcounter2_0 }.awlist2 { list-style:none; counter-reset:awlistcounter2_0 1 }.awlist2 > li:before { content:counter(awlistcounter2_0) '-'; counter-increment:awlistcounter2_0 }.awlist3 { list-style:none; counter-reset:awlistcounter2_0 2 }.awlist3 > li:before { content:counter(awlistcounter2_0) '-'; counter-increment:awlistcounter2_0 }.awlist4 { list-style:none; counter-reset:awlistcounter2_0 3 }.awlist4 > li:before { content:counter(awlistcounter2_0) '-'; counter-increment:awlistcounter2_0 }</style></head><body><div><h1 style="text-align:center; line-height:108%; font-size:18pt"><span style="font-weight:bold">Release noviembre celula 1</span></h1><p class="NoSpacing" style="font-size:13pt"><span style="font-family:'Segoe UI'; -aw-import:ignore">&#xa0;</span></p><h1><span>211840 Nuevas formas de pago tipo Consignación Directa para .COM</span></h1><p class="NoSpacing"><span style="-aw-import:ignore">&#xa0;</span></p><p class="NoSpacing"><span>Link de azure: </span><a href="https://dev.azure.com/colcomercio/Ciclo%20Facturaci%C3%B3n%20POS/_workitems/edit/211840" style="text-decoration:none"><span class="Hyperlink">https://dev.azure.com/colcomercio/Ciclo%20Facturaci%C3%B3n%20POS/_workitems/edit/211840</span></a></p><p class="NoSpacing"><span style="-aw-import:ignore">&#xa0;</span></p><h2><span>Contexto</span></h2><p class="NoSpacing"><a name="_Toc206141943"><span>La iniciativa busca habilitar la creación de nuevas formas de pago para ventas de eCommerce, adoptando el mismo formato y funcionamiento actualmente utilizado por la modalidad de Consignación Directa.</span></a></p><p class="NoSpacing"><span>Con el fin de garantizar flexibilidad y escalabilidad, se propone implementar un mecanismo de configuración y parametrización que permita incorporar estas nuevas formas de pago sin requerir desarrollos adicionales cada vez que se necesite sumar una.</span></p><p class="NoSpacing"><span>Este enfoque se apoya en la misma lógica que ya fue utilizada en iniciativas previas, como la “Configuración de medios de pago tipo CARTERA”.</span></p><p class="NoSpacing"><span style="-aw-bookmark-end:_Toc206141943"></span><span style="-aw-import:ignore">&#xa0;</span></p><p class="NoSpacing"><span>Puntos clave previo al pasaje a producción</span></p><p class="NoSpacing"><span style="-aw-import:ignore">&#xa0;</span></p><ol type="1" class="awlist1" style="margin:0pt; padding-left:0pt"><li class="NoSpacing" style="margin-left:36pt; text-indent:-18pt; font-weight:bold; -aw-list-padding-sml:9.06pt"><span style="width:9.06pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:ignore">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span>Crear medio de pago en la base de GEOPos Central</span></li></ol><p class="NoSpacing" style="margin-left:36pt"><span>Se debe crear el/los medios de pago en la tabla paymentmodes teniendo en cuenta las siguientes condiciones:</span></p><p class="NoSpacing" style="margin-left:36pt"><span>Ejemplo de un medio de pago </span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="font-family:'Calibri Light'; color:#2e74b5">insert</span><span style="width:17.04pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">into PAYMENTMODES(</span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="width:35.4pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">ID,</span><span style="width:26.63pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">SUBCLASS,</span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="width:35.4pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">DISPLAYORDER,</span><span style="width:20.22pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">NAME,</span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="width:35.4pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">ACCEPTSCHANGE,</span><span style="width:12.53pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">LOWAMOUNT,</span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="width:35.4pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">ACCEPTSOTHERPAYMENTS,</span><span style="width:17.9pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">RETURNCHANGE,</span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="width:35.4pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">PARTIAL,</span><span style="width:6.94pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">IMAGE,</span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="width:35.4pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">ELIMINATED,</span><span style="width:28.67pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">CHANGEID,</span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="width:35.4pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">ACQUIRER_ID,</span><span style="width:24.47pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">DEFAULTCURRENCYID,</span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="width:35.4pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">NEEDREGISTEREDCLIENT,</span><span style="width:24.43pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">NEEDVOUCHER,</span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="width:35.4pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">VOUCHERFILE,</span><span style="width:23.79pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">NEEDENDORSEMENT,</span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="width:35.4pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">ENDORSEMENTFILE,</span><span style="width:5.41pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">HIGHALLOWED,</span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="width:35.4pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">LOWALLOWED,</span><span style="width:20.95pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">PAYMENTMODETYPE,</span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="width:35.4pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">IDPAYMENTMODECONFIGURATION,</span><span style="width:24.83pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">LIMITCHANGE,</span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="width:35.4pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">FACTORLIMITCHANGE,</span><span style="width:32.75pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">SURCHARGE,</span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="width:35.4pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">SURCHARGETAXRULEID,</span><span style="width:28.55pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">ACCUMULATENEGATIVE,</span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="width:35.4pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">GROUPING,</span><span style="width:33.1pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">NEEDEDONINCOME,</span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="width:35.4pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">CONSIGNABLE,</span><span style="width:22.47pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">FORWARDABLE,</span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="width:35.4pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">REFUNDABLE,</span><span style="width:25.9pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">CREDIT,</span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="width:35.4pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">SALABLE,</span><span style="width:5.91pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">ACCUMULATE_FOR_ALARM,</span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="width:35.4pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">INTERNETPAYMENTMODE,</span><span style="width:19.54pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">CXCPAYMENTMODE,</span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="width:35.4pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">ROUNDING_ID,</span><span style="width:21.43pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">DIAN_PAYMENTMODE_ID,</span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="width:35.4pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">DIAN_PAYMENT_WAY,</span><span style="width:32.58pt; font-family:'Calibri Light'; color:#000000; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2e74b5">BUSINESSUNIT)</span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="font-family:'Calibri Light'; color:#2e74b5">values('130', 'alk', 102, 'Consumo .COM', false, 0, true, false, false, null, false, </span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="font-family:'Calibri Light'; color:#2e74b5">null, null, '1', false, true, null, false, null, 99999, 100, 1, 4, false, 99999, null, </span></p><p class="ListParagraph" style="margin-left:106.2pt; line-height:150%; font-size:8pt"><span style="font-family:'Calibri Light'; color:#2e74b5">null, false, 'contado', false, false, true, null, false, null, null, false, false, null, null, null, null);</span></p><p class="NoSpacing" style="margin-left:36pt"><span style="-aw-import:ignore">&#xa0;</span></p><ul type="disc" style="margin:0pt; padding-left:0pt"><li class="ListParagraph" style="margin-left:63.76pt; line-height:150%; padding-left:7.94pt; font-family:serif; font-size:11pt; color:#000000; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:Calibri">Es importante que el tipo de medio de pago (paymentmodetype) sea el id del tipo de medio de pago “CONTADO”, puede validarse en la tabla “paymentmodetypes”. Este es un ejemplo para el medio de pago “Consumo .COM” al cual se le asignó el id de medio de pago ‘130’.</span></li><li class="ListParagraph" style="margin-left:63.76pt; line-height:150%; padding-left:7.94pt; font-family:serif; font-size:11pt; color:#000000; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:Calibri">El campo INTERNETPAYMENTMODE debe ser true, para que el medio de pago sea reconocido en el informe de Consignación Directa en Geoconciliación.</span></li><li class="ListParagraph" style="margin-left:63.76pt; line-height:150%; padding-left:7.94pt; font-family:serif; font-size:11pt; color:#000000; -aw-font-family:'Symbol'; -aw-font-weight:normal; -aw-number-format:''"><span style="font-family:Calibri">Los campos DIAN_PAYMENT_WAY y DIAN_PAYMENTMODE_ID deben tener los valores correspondientes a lo que se desee mostrar en la cabecera del ticket, en los campos “Forma de Pago” y “Medio de Pago”, Para conocer los posibles valores en esas columnas, se puede consultar las tablas “dian_paymentway” y “dian_paymentmodes_type”</span></li></ul><p class="NoSpacing" style="margin-left:36pt"><span style="-aw-import:ignore">&#xa0;</span></p><ol start="2" type="1" class="awlist2" style="margin:0pt; padding-left:0pt"><li class="NoSpacing" style="margin-left:36pt; text-indent:-18pt; font-weight:bold; -aw-list-padding-sml:9.06pt"><span style="width:9.06pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:ignore">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span>Configurar propiedad con el id del medio de pago en servidor local de KTINT y sus cajas</span></li></ol><p class="NoSpacing" style="margin-left:36pt"><span>Para el local de KTINT se debe configurar la siguiente propiedad en server.properties y pos-production.properties (teniendo en cuenta los id de los medios de pago que se hayan creado en el paso anterior, ejemplo si se crea el medio de pago 130 y 131)</span></p><p class="NoSpacing" style="margin-left:36pt"><span>directConsignation.paymentModes.map={43: "Consignacion Directa", 130:"Bancolombia Consumo .COM", 131:"Bancolombia Paga Despues .COM"}</span></p><p class="NoSpacing" style="margin-left:36pt"><span style="-aw-import:ignore">&#xa0;</span></p><p class="NoSpacing" style="margin-left:36pt"><span>Para los demás locales que no usan este medio de pago la propiedad se debe dejar por defecto con el valor de consignación directa</span></p><p class="NoSpacing" style="margin-left:36pt"><span>directConsignation.paymentModes.map={43: "Consignacion Directa"}</span></p><p class="NoSpacing" style="margin-left:36pt"><span style="-aw-import:ignore">&#xa0;</span></p><ol start="3" type="1" class="awlist3" style="margin:0pt; padding-left:0pt"><li class="NoSpacing" style="margin-left:36pt; text-indent:-18pt; font-weight:bold; -aw-list-padding-sml:9.06pt"><span style="width:9.06pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:ignore">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span>Crear medio de pago en GEOConciliacion</span></li></ol><p class="NoSpacing" style="margin-left:36pt"><span>En GEOConciliacion se deben crear los mismos medios de pagos que se crearon en GEOPos.</span></p><p class="NoSpacing" style="margin-left:36pt"><span>Para que el/los medios de pago creado salga en el reporte “Informe de Medio de Pago Consignación Directa”, se debe configurar el id del medio de pago en la propiedad </span></p><p class="NoSpacing" style="margin-left:36pt"><span style="font-family:'Calibri Light'; font-weight:bold">codigos.pago.internet=43,130,131,xx,xx</span></p><p class="NoSpacing" style="margin-left:36pt"><span>Ubicada en el archivo: </span><span style="font-family:'Calibri Light'; font-weight:bold">/srv/apache-tomcat-6.0.18-2/webapps/GeoConciliacion-web/WEB-INF/classes/ tol-production.properties</span></p><p class="NoSpacing" style="margin-left:36pt"><span>Adicionalmente la sucursal debe estar marcada como facturación automática con la siguiente propiedad </span><span style="font-family:'Calibri Light'; font-weight:bold">isSucursalFacturacionAutomatica=true</span></p><p class="NoSpacing" style="margin-left:36pt"><span>Ubicada en el archivo: /srv/apache-tomcat-6.0.18-2/webapps/GeoConciliacion-web/WEB-INF/classes/com/geocom/uy/geoconciliacion/web/config/sucursal_facturacion_automatica.properties</span></p><p class="NoSpacing" style="margin-left:36pt"><span style="font-weight:bold; -aw-import:ignore">&#xa0;</span></p><ol start="4" type="1" class="awlist4" style="margin:0pt; padding-left:0pt"><li class="NoSpacing" style="margin-left:36pt; text-indent:-18pt; font-weight:bold; -aw-list-padding-sml:9.06pt"><span style="width:9.06pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:ignore">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><span>Crear medio de pago desde Ecommerce</span></li></ol><p class="NoSpacing" style="margin-left:36pt"><span>Desde hybris se debe mapear los ID de los medios de pago definidos en GEOPos.</span></p><p class="NoSpacing" style="margin-left:36pt"><span style="-aw-import:ignore">&#xa0;</span></p><p class="NoSpacing" style="margin-left:36pt"><span style="-aw-import:ignore">&#xa0;</span></p><p class="NoSpacing" style="font-size:13pt"><span style="font-family:'Calibri Light'; color:#2f5496">Aplicativo:</span><span style="font-size:11pt"> GEOPos</span><br /><span style="font-family:'Calibri Light'; color:#2f5496">Propiedades y scripts:</span><span style="font-size:11pt"> las mencionadas en el punto anterior</span></p><h1><span>124106 Transmisión estado Pedidos GEO - OMS</span><span style="-aw-import:spaces">&#xa0; </span></h1><p class="NoSpacing"><span style="-aw-import:ignore">&#xa0;</span></p><h2><span>Contexto</span></h2><p class="NoSpacing"><span>La iniciativa busca notificar las actualizaciones de estado que ocurren a nivel de cada uno de los despachos presentes en las facturas de compra, tanto para los de facturación automática como los de ASM</span></p><p class="NoSpacing"><span>Si bien esta iniciativa ya se encuentra en producción, se detectó un incidente en la cancelación de pedidos, correspondiente al azure: 224532 IN47- Cancelación (link: </span><a href="https://dev.azure.com/colcomercio/Ciclo%20Facturaci%C3%B3n%20POS/_workitems/edit/224532" style="text-decoration:none"><span class="Hyperlink">https://dev.azure.com/colcomercio/Ciclo%20Facturaci%C3%B3n%20POS/_workitems/edit/224532</span></a><span> )</span></p><p><span style="-aw-import:ignore">&#xa0;</span></p><p class="NoSpacing" style="font-size:13pt"><span style="font-family:'Calibri Light'; color:#2f5496">Aplicativo:</span><span style="font-size:11pt"> GEOPos</span><br /><span style="font-family:'Calibri Light'; color:#2f5496">Propiedades: </span><span style="font-size:11pt">para este caso no hay propiedades nuevas</span></p><p style="margin-bottom:0pt; line-height:normal; font-size:12pt"><span style="font-family:'Times New Roman'; -aw-import:ignore">&#xa0;</span></p><p style="margin-bottom:0pt; line-height:normal; font-size:12pt"><span style="font-family:'Times New Roman'; -aw-import:ignore">&#xa0;</span></p><p style="line-height:108%; font-size:16pt"><span style="font-family:'Calibri Light'; color:#2f5496">160395</span><span style="width:22.14pt; font-family:'Calibri Light'; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2f5496">EP_GEO_9592_Migración Mahindra de Pines Virtuales (Bug PDR 237682 Bug error en ativación de pines Movilred - campo issuedate)</span></p><h2><span>Contexto</span></h2><p class="NoSpacing"><span>La iniciativa busca la migración de los pines virtuales que se autorizan por parte de movilred, migrando del modelo ISO al uso de servicios Rest por medio de una api que expone movilred.</span></p><p><span>Si bien esta iniciativa ya se encuentra en producción, se detectó un incidente con el formato de la fecha enviada en el campo issueDate, dado que el mismo debería ser en formato 24hs</span></p><p class="NoSpacing" style="font-size:13pt"><span style="font-family:'Calibri Light'; color:#2f5496">Aplicativo: </span><span style="font-size:11pt">Movilred-virtual-pins</span><br /><span style="font-family:'Calibri Light'; color:#2f5496">Propiedades: </span><span style="font-size:11pt">no hay propiedades nuevas</span></p><p style="line-height:108%; font-size:16pt"><span style="font-family:'Calibri Light'; color:#2f5496; -aw-import:ignore">&#xa0;</span></p><p style="line-height:108%; font-size:16pt"><span style="font-family:'Calibri Light'; color:#2f5496">239286</span><span style="width:22.14pt; font-family:'Calibri Light'; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2f5496">10487 Ajustar el servicio de facturación y actualización de estados del consignment (In47)</span></p><h2><span>Contexto</span></h2><p><span>Actualmente al realizar una facturación por caja automática o un pedido de ASM, el aplicativo geopos realiza la entrega de la OR02 (respuesta de facturación) al servicio provisto por el Mulesoft. Para las transacciones de devolución o anulación no se envía dicha información. </span></p><p><span>Por medio de la iniciativa 124106 - Transmisión estado Pedidos GEO – OMS, se creó la integración IN47, que consiste en informar de los cambios de estado del despacho derivados por procesos ejecutados en las aplicaciones GEOPOS, los cuales deben ser informados a las aplicaciones interesadas. La IN47 se envía en todas las transacciones para los canales configurados en la propiedad dispatch.update.channels. Actualmente, estas dos integraciones son configuradas y ejecutadas en el microservicio alkosto-aws-mediator. Con esta nueva actualización se busca enviar un único servicio desde Geopos (IN47) anulando así el envío de la OR02 ya que Mulesoft será el encargado de determinar según la estructura recibida a quien deberá entregar la información.</span></p><p class="NoSpacing" style="font-size:13pt"><span style="font-family:'Calibri Light'; color:#2f5496">Aplicativo: </span><span style="font-size:11pt">GEOPos</span><br /><span style="font-family:'Calibri Light'; color:#2f5496">Propiedades: </span></p><p class="NoSpacing"><span style="-aw-import:ignore">&#xa0;</span></p><p class="NoSpacing"><span>Tanto en servidor local como en caja se deben configurar las siguientes propiedades</span></p><p class="NoSpacing"><span>Archivo: api-config.properties</span></p><p class="NoSpacing"><span style="color:#242424; background-color:#ffffff">Caja: configuration/pos/api-config.properties</span></p><p class="NoSpacing"><span style="color:#242424; background-color:#ffffff">Local: configuration/serverInstance/api-config.properties</span></p><p class="NoSpacing"><span style="-aw-import:ignore">&#xa0;</span></p><table cellspacing="0" cellpadding="0" class="TableGrid" style="margin-bottom:0pt; border:0.75pt solid #000000; -aw-border:0.5pt single; -aw-border-insideh:0.5pt single #000000; -aw-border-insidev:0.5pt single #000000; border-collapse:collapse"><tr><td style="width:130.75pt; border-right-style:solid; border-right-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-right:0.5pt single"><p class="NoSpacing"><span style="font-weight:bold">Descripción</span></p></td><td style="width:130.75pt; border-right-style:solid; border-right-width:0.75pt; border-left-style:solid; border-left-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-left:0.5pt single; -aw-border-right:0.5pt single"><p class="NoSpacing"><span style="font-weight:bold">Nombre de la propiedad</span></p></td><td style="width:130.8pt; border-left-style:solid; border-left-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-left:0.5pt single"><p class="NoSpacing"><span style="font-weight:bold">Valor posible</span></p></td></tr><tr><td style="width:130.75pt; border-top-style:solid; border-top-width:0.75pt; border-right-style:solid; border-right-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-right:0.5pt single; -aw-border-top:0.5pt single"><p class="NoSpacing"><span>Habilita la IN47 en caja</span></p></td><td style="width:130.75pt; border-style:solid; border-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border:0.5pt single"><p class="NoSpacing"><span>in47.api.enabled</span></p></td><td style="width:130.8pt; border-top-style:solid; border-top-width:0.75pt; border-left-style:solid; border-left-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-left:0.5pt single; -aw-border-top:0.5pt single"><p class="NoSpacing"><span>True/false</span></p></td></tr><tr><td style="width:130.75pt; border-top-style:solid; border-top-width:0.75pt; border-right-style:solid; border-right-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-right:0.5pt single; -aw-border-top:0.5pt single"><p class="NoSpacing"><span>Timeout para espera de respuesta del servicio</span></p></td><td style="width:130.75pt; border-style:solid; border-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border:0.5pt single"><p class="NoSpacing"><span>in47.api.connect.timeout</span></p></td><td style="width:130.8pt; border-top-style:solid; border-top-width:0.75pt; border-left-style:solid; border-left-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-left:0.5pt single; -aw-border-top:0.5pt single"><p class="NoSpacing"><span>3000</span></p></td></tr><tr><td style="width:130.75pt; border-top-style:solid; border-top-width:0.75pt; border-right-style:solid; border-right-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-right:0.5pt single; -aw-border-top:0.5pt single"><p class="NoSpacing"><span>Timeout permitido para que se realice la negociación de conexión con el servicio</span></p></td><td style="width:130.75pt; border-style:solid; border-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border:0.5pt single"><p class="NoSpacing"><span>in47.api.read.timeout</span></p></td><td style="width:130.8pt; border-top-style:solid; border-top-width:0.75pt; border-left-style:solid; border-left-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-left:0.5pt single; -aw-border-top:0.5pt single"><p class="NoSpacing"><span>3000</span></p></td></tr><tr><td style="width:130.75pt; border-top-style:solid; border-top-width:0.75pt; border-right-style:solid; border-right-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-right:0.5pt single; -aw-border-top:0.5pt single"><p class="NoSpacing"><span>URL del servicio de transmisión de estado de pedidos</span></p></td><td style="width:130.75pt; border-style:solid; border-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border:0.5pt single"><p class="NoSpacing"><span>in47.api.url</span></p></td><td style="width:130.8pt; border-top-style:solid; border-top-width:0.75pt; border-left-style:solid; border-left-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-left:0.5pt single; -aw-border-top:0.5pt single"><p style="margin-bottom:0pt; font-size:11pt"><a href="https://pedido-exp-040-management-api-ch2-prod-rlo1ez.internal-tno8pe.usa-e1.cloudhub.io/api/v1/pedidos" style="text-decoration:none"><span class="Hyperlink">https://pedido-exp-040-management-api-ch2-prod-rlo1ez.internal-tno8pe.usa-e1.cloudhub.io/api/v1/pedidos</span></a></p></td></tr><tr><td style="width:130.75pt; border-top-style:solid; border-top-width:0.75pt; border-right-style:solid; border-right-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-right:0.5pt single; -aw-border-top:0.5pt single"><p class="NoSpacing"><span>Header client_id para envio IN47</span></p></td><td style="width:130.75pt; border-style:solid; border-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border:0.5pt single"><p class="NoSpacing"><span>in47.api.client.id</span><span style="width:31.9pt; display:inline-block">&#xa0;</span></p></td><td style="width:130.8pt; border-top-style:solid; border-top-width:0.75pt; border-left-style:solid; border-left-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-left:0.5pt single; -aw-border-top:0.5pt single"><p style="margin-bottom:0pt; font-size:11pt"><span>f8fb0af083c14ae8b3217053eba0bc28</span></p><p class="NoSpacing"><span style="-aw-import:ignore">&#xa0;</span></p></td></tr><tr><td style="width:130.75pt; border-top-style:solid; border-top-width:0.75pt; border-right-style:solid; border-right-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-right:0.5pt single; -aw-border-top:0.5pt single"><p class="NoSpacing"><span>Headers client_secret para envio IN47</span></p></td><td style="width:130.75pt; border-style:solid; border-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border:0.5pt single"><p class="NoSpacing"><span>in47.api.client.secret</span></p></td><td style="width:130.8pt; border-top-style:solid; border-top-width:0.75pt; border-left-style:solid; border-left-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-left:0.5pt single; -aw-border-top:0.5pt single"><p style="margin-bottom:0pt; font-size:11pt"><span>BDF2fCfDcF2b49dDad13568993D88819</span></p><p class="NoSpacing"><span style="-aw-import:ignore">&#xa0;</span></p></td></tr><tr><td style="width:130.75pt; border-top-style:solid; border-top-width:0.75pt; border-right-style:solid; border-right-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-right:0.5pt single; -aw-border-top:0.5pt single"><p class="NoSpacing"><span>Headers contexto_transaccional para envio IN47</span></p></td><td style="width:130.75pt; border-style:solid; border-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border:0.5pt single"><p class="NoSpacing"><span>in47.api.contexto.transaccional</span><span style="width:1.26pt; display:inline-block">&#xa0;</span></p></td><td style="width:130.8pt; border-top-style:solid; border-top-width:0.75pt; border-left-style:solid; border-left-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-left:0.5pt single; -aw-border-top:0.5pt single"><p style="margin-bottom:0pt; font-size:11pt"><span>{\"nombreAplicacion\":\"GEO\", \"grupoNegocio\":\"Alkosto\", \"codigoUnidadNegocio\":\"KTINT\"}</span></p></td></tr><tr><td style="width:130.75pt; border-top-style:solid; border-top-width:0.75pt; border-right-style:solid; border-right-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-right:0.5pt single; -aw-border-top:0.5pt single"><p class="NoSpacing"><span>URL para obtención token</span></p></td><td style="width:130.75pt; border-style:solid; border-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border:0.5pt single"><p class="NoSpacing"><span>in47.token.url</span></p></td><td style="width:130.8pt; border-top-style:solid; border-top-width:0.75pt; border-left-style:solid; border-left-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-left:0.5pt single; -aw-border-top:0.5pt single"><p style="margin-bottom:0pt; font-size:11pt"><a href="https://servidor-autorizacion-oauth2-prod-rlo1ez.tno8pe.usa-e1.cloudhub.io/obtenerNuevoToken" style="text-decoration:none"><span class="Hyperlink">https://servidor-autorizacion-oauth2-prod-rlo1ez.tno8pe.usa-e1.cloudhub.io/obtenerNuevoToken</span></a></p></td></tr><tr><td style="width:130.75pt; border-top-style:solid; border-top-width:0.75pt; border-right-style:solid; border-right-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-right:0.5pt single; -aw-border-top:0.5pt single"><p class="NoSpacing"><span>Header client_id para obtención token</span></p></td><td style="width:130.75pt; border-style:solid; border-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border:0.5pt single"><p class="NoSpacing"><span>in47.token.client.id</span></p></td><td style="width:130.8pt; border-top-style:solid; border-top-width:0.75pt; border-left-style:solid; border-left-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-left:0.5pt single; -aw-border-top:0.5pt single"><p style="margin-bottom:0pt; font-size:11pt"><span>f8fb0af083c14ae8b3217053eba0bc28</span></p></td></tr><tr><td style="width:130.75pt; border-top-style:solid; border-top-width:0.75pt; border-right-style:solid; border-right-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-right:0.5pt single; -aw-border-top:0.5pt single"><p class="NoSpacing"><span>Headers client_secret para obtención token</span></p></td><td style="width:130.75pt; border-style:solid; border-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border:0.5pt single"><p class="NoSpacing"><span>in47.token.client.secret</span></p></td><td style="width:130.8pt; border-top-style:solid; border-top-width:0.75pt; border-left-style:solid; border-left-width:0.75pt; border-bottom-style:solid; border-bottom-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-bottom:0.5pt single; -aw-border-left:0.5pt single; -aw-border-top:0.5pt single"><p style="margin-bottom:0pt; font-size:11pt"><span>BDF2fCfDcF2b49dDad13568993D88819</span></p></td></tr><tr><td style="width:130.75pt; border-top-style:solid; border-top-width:0.75pt; border-right-style:solid; border-right-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-right:0.5pt single; -aw-border-top:0.5pt single"><p class="NoSpacing"><span>Headers grant_type para obtención token</span></p></td><td style="width:130.75pt; border-top-style:solid; border-top-width:0.75pt; border-right-style:solid; border-right-width:0.75pt; border-left-style:solid; border-left-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-left:0.5pt single; -aw-border-right:0.5pt single; -aw-border-top:0.5pt single"><p class="NoSpacing"><span>in47.token.grant.type</span></p></td><td style="width:130.8pt; border-top-style:solid; border-top-width:0.75pt; border-left-style:solid; border-left-width:0.75pt; padding-right:5.03pt; padding-left:5.03pt; vertical-align:top; -aw-border-left:0.5pt single; -aw-border-top:0.5pt single"><p style="margin-bottom:0pt; font-size:11pt"><span>client_credentials</span></p></td></tr></table><p class="NoSpacing"><span style="-aw-import:ignore">&#xa0;</span></p><p style="line-height:108%; font-size:16pt"><span style="font-family:'Calibri Light'; color:#2f5496; -aw-import:ignore">&#xa0;</span></p><p style="line-height:108%; font-size:16pt"><span style="font-family:'Calibri Light'; color:#2f5496">193149</span><span style="width:22.14pt; font-family:'Calibri Light'; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2f5496">EP_GEO_9986_Venta POSA precio variable Pines</span></p><h2><span>Contexto</span></h2><p class="NoSpacing"><span>Esta Hu hace parte de la épica de migración mahindra, con esta HU se pretende vender pines virtuales desde el ecommerce con precios variables, la validación de los montos la realizara el ecommerce. Los pines pueden ser de precio fijo o variable. </span></p><p class="NoSpacing"><span>Los mismos se configuran en la colección allowedEans de la base virtualpins_db en Mongo. </span></p><p class="NoSpacing"><span style="-aw-import:ignore">&#xa0;</span></p><p class="NoSpacing"><span>Pueden ser configurados manualmente desde la BD o mediante el siguiente servicio: </span></p><p class="NoSpacing"><span>Método: POST </span></p><p class="NoSpacing"><span>url: http://{{ip de microservicios}}:8088/virtual-pin/allowed-ean </span></p><p class="NoSpacing"><span>body: {“ean":“798366415890",“amount":“10000,0",“variablePrice":“true"}</span></p><p class="NoSpacing"><span style="-aw-import:ignore">&#xa0;</span></p><p class="NoSpacing"><span>Los precios de los EANs son actualizados de manera automática mediante el servicio de migración de geohub-migration. El campo “variablePrice” define si se aceptará cualquier monto para el EAN ingresado. Para los EANs con precio fijo (“variablePrice” :”false”) se realizará una validación de que el monto concuerde con el enviado en la IN34.</span></p><p class="NoSpacing"><span style="-aw-import:ignore">&#xa0;</span></p><p class="NoSpacing"><img src="images/Aspose.Words.cd07c807-d5c8-40e5-af8b-cf785f02dc80.001.png" width="394" height="152" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p class="NoSpacing" style="font-size:13pt"><span style="font-family:'Calibri Light'; color:#2f5496">Aplicativo: </span><span style="font-size:11pt">Movilred-virtual-pins</span><br /><span style="font-family:'Calibri Light'; color:#2f5496">Propiedades: </span><span style="font-size:11pt">no hay propiedades nuevas</span></p><p class="NoSpacing"><span style="-aw-import:ignore">&#xa0;</span></p><p><span style="-aw-import:ignore">&#xa0;</span></p><p style="line-height:108%; font-size:16pt"><span style="font-family:'Calibri Light'; color:#2f5496">246577</span><span style="width:22.14pt; font-family:'Calibri Light'; display:inline-block">&#xa0;</span><span style="font-family:'Calibri Light'; color:#2f5496">HU_EP_GEO_Conciliación_Mahindra_Reporte</span></p><h2><span>Contexto</span></h2><p><span>Esta HU busca la creación de un reporte que permita realizar la conciliación de la activación de los pines que se han vendido por el modelo mahindra, para ellos se crea un reporte en el aplicativo alkosto-report-service, el mismo se puede consumir desde el navegador o desde postman con la siguiente URL:</span></p><p style="background-color:#ffffff"><a href="http://%5BipMicroservicios%5D:8046/report/virtualPins/generateReport?initDate=22-04-2000&amp;endDate=23-04-2044&amp;localList=7" style="text-decoration:none"><span class="Hyperlink">http://[ipMicroservicios]:8046/report/virtualPins/generateReport?initDate=22-04-2000&amp;endDate=23-04-2044&amp;localList=7</span></a><span>0,72</span></p><p style="background-color:#ffffff"><span style="-aw-import:ignore">&#xa0;</span></p><div style="margin-top:14pt; background-color:#ffffff"><p style="margin-left:18pt; margin-bottom:0pt; text-indent:-18pt; line-height:normal; -aw-import:list-item; -aw-list-level-number:0; -aw-list-number-format:''; -aw-list-number-styles:'bullet'; -aw-list-padding-sml:13.4pt"><span style="-aw-import:ignore"><span style="font-family:Symbol; font-size:10pt"></span><span style="width:13.4pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><span>Los campos</span><span>&#xa0;</span><span>initDate</span><span>&#xa0;</span><span>y</span><span>&#xa0;</span><span>endDate son obligatorios</span><span>&#xa0;</span><span>y se puede ver el formato correcto en la historia de usuario.</span></p></div><div style="margin-bottom:14pt; background-color:#ffffff"><p style="margin-left:18pt; margin-bottom:0pt; text-indent:-18pt; line-height:normal; -aw-import:list-item; -aw-list-level-number:0; -aw-list-number-format:''; -aw-list-number-styles:'bullet'; -aw-list-padding-sml:13.4pt"><span style="-aw-import:ignore"><span style="font-family:Symbol; font-size:10pt"></span><span style="width:13.4pt; font:7pt 'Times New Roman'; display:inline-block; -aw-import:spaces">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span></span><span>El campo localId es</span><span>&#xa0;</span><span>opcional</span><span>&#xa0;</span><span>y puede o no ir. En caso de incluir el formato es una lista de locales separada por coma.</span></p></div><p class="NoSpacing" style="font-size:13pt"><span style="font-family:'Calibri Light'; color:#2f5496">Aplicativo: </span><span style="font-size:11pt">Movilred-virtual-pins, alkosto-report-services</span><br /><span style="font-family:'Calibri Light'; color:#2f5496">Propiedades: </span></p><p class="NoSpacing"><span style="-aw-import:ignore">&#xa0;</span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><span>Se agregaron propiedades en los 2 microservicios que hacen parte de la iniciativa:</span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><span style="-aw-import:ignore">&#xa0;</span></p><p class="NoSpacing"><span>Aplicativo: movilred-virtual-pins</span></p><p class="NoSpacing"><span>Archivo: application.yml</span></p><p class="NoSpacing"><span>Ubicación: microservicios/movilred-virtual-pins/movilred-virtual-pins/config/</span></p><p class="NoSpacing"><span>Descripción: Indica el tiempo</span><span>&#xa0;</span><span>(en milisegundos)</span><span>&#xa0;</span><span>que permanece abierta la conexión que abre el endpoint de</span><span>&#xa0;</span><span>movilred-virtual-pins,</span><span>&#xa0;</span><span>consumido por</span><span>&#xa0;</span><span>el cliente del alkosto-report-service. Es necesario ya que la comunicación se realiza via</span><span>&#xa0;</span><span>streaming de datos</span><span>&#xa0;</span><span>y puede tener alguna demora para compensar la velocidad de procesamiento.</span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><span>Propiedad: </span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><span>spring</span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> mvc:</span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> async:</span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> request-timeout: 300000</span></p><p class="NoSpacing"><span style="-aw-import:ignore">&#xa0;</span></p><p class="NoSpacing"><span>Valor: Por defecto se configuró en 3 minutos</span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><span style="-aw-import:ignore">&#xa0;</span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><span style="-aw-import:ignore">&#xa0;</span></p><p class="NoSpacing"><span>Aplicativo: alkosto-report-service</span></p><p class="NoSpacing"><span>Archivo: application.yml</span></p><p class="NoSpacing"><span>Ubicación: /microservicios/alkosto-report-service/alkosto-report-service/config</span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><span>Propiedad: Indica el timeout de</span><span>&#xa0;</span><span>conexión y lectura de datos</span><span>&#xa0;</span><span>desde el cliente que consume la API REST expuesta en el movilred-virtual-pins.</span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><span>movilred-virtual-pins:</span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> baseUrl: </span><a href="http://localhost:8088" style="text-decoration:none"><span class="Hyperlink">http://localhost:8088</span></a><span> //url del aplicativo movilre-virtual-pins</span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> connectTimeoutMs: 5000</span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><span>&#xa0;</span><span> </span><span>&#xa0;</span><span> readTimeoutMs: 120000</span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><span style="-aw-import:ignore">&#xa0;</span></p><p class="NoSpacing"><span>Valor: los definidos en el punto anterior</span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><span style="-aw-import:ignore">&#xa0;</span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><span style="-aw-import:ignore">&#xa0;</span></p><p class="NoSpacing" style="font-size:13pt"><span style="font-family:'Calibri Light'; color:#2f5496">Indices: </span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><span>Es necesario crear los siguientes índices en la colección</span><span>&#xa0;</span><span>pinsAuthorizationState</span><span>&#xa0;</span><span>de la base de datos mongo virtualpins_db.</span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><br /><span>// Índice para queries: orderDate (rango) + activations.authorizationCode (siempre) + localId (opcional)</span><br /><span style="-aw-import:ignore">&#xa0;</span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><span>db.getCollection("pinsAuthorizationState").createIndex(</span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><span>&#xa0;</span><span> { orderDate: 1, localId: 1, "activations.authorizationCode": 1 },</span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><span>&#xa0;</span><span> { partialFilterExpression: { "activations.authorizationCode": { $exists: true, $type: 2 } } }</span></p><p style="margin-bottom:0pt; line-height:normal; background-color:#ffffff"><span>);</span></p></div></body></html>